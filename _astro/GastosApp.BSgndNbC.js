import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as n}from"./index.DFATbet1.js";import{u as M,G as H}from"./GastosContext.ChU6grDc.js";import{u as k}from"./useCurrency.CU1OSAUD.js";import I from"./LoadingSpinner.CRtF3Vaf.js";import{P as V}from"./PieChart.DAgtbrRn.js";import"./_commonjsHelpers.D6-XlEtG.js";import"./supabase.D8XsvUjI.js";import"./proxy.B2mgxuCV.js";const D=({showAllColumns:r,onExpand:i,showExpandButton:t=!1,onSort:o})=>{const[u,m]=n.useState(!1),x=s=>{o&&(o(s),m(!1))},l="p-2 sm:p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap";return e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-white border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:l,"aria-sort":"none",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"Mes"}),e.jsx("svg",{className:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M19 4H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V6a2 2 0 00-2-2zM16 2v4M8 2v4M3 10h18",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})}),e.jsx("th",{scope:"col",className:l,"aria-sort":"none",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"Descripción"}),e.jsx("svg",{className:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M4 6h16M4 12h16M4 18h7",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})}),e.jsx("th",{scope:"col",className:`${l} w-[80px] !min-w-[80px] !max-w-[80px]`,"aria-sort":"none",children:e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("span",{children:"Monto"})})}),e.jsx("th",{scope:"col",className:`${l} relative`,"aria-sort":"none",children:e.jsxs("div",{className:"flex items-center justify-start",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"Persona"}),e.jsx("svg",{className:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2M12 11a4 4 0 100-8 4 4 0 000 8z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),!r&&t&&e.jsx("button",{onClick:i,className:"ml-2 text-indigo-600 hover:text-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 rounded-md p-1","aria-label":"Expandir tabla para ver más detalles",title:"Ver todos los detalles",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h4a1 1 0 010 2H6.414l2.293 2.293a1 1 0 11-1.414 1.414L5 6.414V8a1 1 0 01-2 0V4zm9 1a1 1 0 010-2h4a1 1 0 011 1v4a1 1 0 01-2 0V6.414l-2.293 2.293a1 1 0 11-1.414-1.414L13.586 5H12zm-9 7a1 1 0 012 0v1.586l2.293-2.293a1 1 0 111.414 1.414L6.414 15H8a1 1 0 010 2H4a1 1 0 01-1-1v-4zm13-1a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 010-2h1.586l-2.293-2.293a1 1 0 111.414-1.414L15 13.586V12a1 1 0 011-1z",clipRule:"evenodd"})})})]})}),r&&e.jsxs(e.Fragment,{children:[e.jsx("th",{scope:"col",className:l,"aria-sort":"none",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"Compartido"}),e.jsx("svg",{className:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2M9 11a4 4 0 100-8 4 4 0 000 8zM23 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>m(!u),className:"ml-1 focus:outline-none","aria-label":"Ordenar gastos",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),u&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10",children:e.jsxs("div",{className:"py-1",children:[e.jsx("button",{onClick:()=>x("monto"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Ordenar por monto"}),e.jsx("button",{onClick:()=>x("mes"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Ordenar por mes"}),e.jsx("button",{onClick:()=>x("fecha"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Ordenar por fecha"})]})})]})]})}),e.jsx("th",{scope:"col",className:`${l} text-center`,"aria-label":"Acciones",children:e.jsx("span",{className:"sr-only",children:"Acciones"})})]})]})})},O=({gasto:r,onDelete:i,showAllColumns:t=!1})=>{const{eliminarGasto:o,emailsMap:u}=M(),{formatCurrency:m}=k(),[x,l]=n.useState(!1),[s,c]=n.useState(!1),p=()=>{c(!0),setTimeout(()=>{i(r.id)},300)},f=h=>{(h.key==="Enter"||h.key===" ")&&p()},j=u[r.personaid]||r.personaid,y=()=>r.escompartido?e.jsxs("div",{className:"text-xs space-y-1 bg-indigo-50 p-1.5 sm:p-2 rounded-lg border border-indigo-100",children:[e.jsxs("div",{className:"flex justify-between items-center gap-2",children:[e.jsx("span",{className:"text-gray-700 truncate max-w-[140px]",title:j,children:j}),e.jsxs("span",{className:"font-medium bg-indigo-100 text-indigo-800 px-1.5 sm:px-2 py-0.5 rounded shrink-0 min-w-[40px] text-center",children:[r.porcentajepersona1,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center gap-2",children:[e.jsx("span",{className:"text-gray-700 truncate max-w-[140px]",title:r.otraPersonaEmail??"",children:r.otraPersonaEmail??""}),e.jsxs("span",{className:"font-medium bg-pink-100 text-pink-800 px-1.5 sm:px-2 py-0.5 rounded shrink-0 min-w-[40px] text-center",children:[r.porcentajepersona2,"%"]})]})]}):e.jsx("span",{className:"text-gray-600",children:"No"}),S=()=>({Enero:"bg-blue-100 text-blue-800",Febrero:"bg-purple-100 text-purple-800",Marzo:"bg-green-100 text-green-800",Abril:"bg-yellow-100 text-yellow-800",Mayo:"bg-red-100 text-red-800",Junio:"bg-indigo-100 text-indigo-800",Julio:"bg-orange-100 text-orange-800",Agosto:"bg-emerald-100 text-emerald-800",Septiembre:"bg-cyan-100 text-cyan-800",Octubre:"bg-amber-100 text-amber-800",Noviembre:"bg-violet-100 text-violet-800",Diciembre:"bg-rose-100 text-rose-800"})[r.mes]||"bg-gray-100 text-gray-800",w=h=>h>=1e6?`${(h/1e6).toFixed(1)}m`:h>=1e3?`${(h/1e3).toFixed(1)}k`:h.toString(),C=()=>s?"opacity-0 transform scale-95":x?"bg-gray-50 shadow-sm":"hover:bg-gray-50";return e.jsxs("tr",{className:`border-b transition-all duration-300 ${C()}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[e.jsx("td",{className:"p-2",children:e.jsx("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-medium ${S()}`,children:r.mes})}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium text-gray-800 text-sm truncate max-w-[150px]",children:r.descripcion}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(r.fecha).toLocaleDateString()})]})}),e.jsx("td",{className:"p-2 w-[80px] !min-w-[80px] !max-w-[80px]",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium text-gray-900 text-sm whitespace-nowrap",children:t?m(r.monto):w(r.monto)}),!t&&e.jsx("span",{className:"text-xs text-gray-500",title:m(r.monto),children:m(r.monto)})]})}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"inline-flex px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 truncate max-w-[120px]",title:j,children:j}),t&&r.escompartido&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:"Compartido"})]})}),t&&e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"p-2",children:y()}),e.jsx("td",{className:"p-2 text-center",children:e.jsx("button",{onClick:()=>o(r.id),onKeyDown:f,className:`text-red-500 hover:text-red-700 transition-colors p-1.5 rounded-full hover:bg-red-50 ${x?"animate-pulse":""}`,"aria-label":"Eliminar gasto",tabIndex:0,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})})]})]})},Y=({isOpen:r,onClose:i,gastos:t,onDelete:o,totals:u})=>{k();const[m,x]=n.useState(t),l=s=>{x(c=>[...c].sort((p,f)=>{switch(s){case"monto":return f.monto-p.monto;case"mes":const j=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"];return j.indexOf(p.mes.toLowerCase())-j.indexOf(f.mes.toLowerCase());case"fecha":return new Date(f.fecha).getTime()-new Date(p.fecha).getTime();default:return 0}}))};return n.useEffect(()=>{x(t)},[t]),r?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-6xl sm:w-full",children:[e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsx("div",{className:"sm:flex sm:items-start",children:e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Detalles de Gastos"}),e.jsx("div",{className:"mt-4",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx(D,{showAllColumns:!0,onSort:l}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(s=>e.jsx(O,{gasto:s,onDelete:o,showAllColumns:!0},s.id))})]})})]})})}),e.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:e.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:i,children:"Cerrar"})})]})]})}):null},A=({total:r,totalCompartido:i,totalNoCompartido:t,formatCurrency:o})=>{const u=(i/r*100).toFixed(1),m=(t/r*100).toFixed(1);return n.useEffect(()=>{window.dispatchEvent(new CustomEvent("updateTotalExpenses",{detail:{total:r}}))},[r]),e.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Total General"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o(r)})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Compartido"}),e.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:o(i)}),e.jsxs("p",{className:"text-sm text-gray-500",children:[u,"%"]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"No Compartido"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:o(t)}),e.jsxs("p",{className:"text-sm text-gray-500",children:[m,"%"]})]})]})]})})},$=()=>{const{gastos:r,eliminarGasto:i,agregarGasto:t,personas:o,isLoading:u,recargarDatos:m}=M(),{formatCurrency:x}=k(),[l,s]=n.useState([]),[c,p]=n.useState(!0),[f]=n.useState(""),[j]=n.useState(null),[y]=n.useState(null),[S,w]=n.useState(!1),[C,h]=n.useState("fecha"),[z,E]=n.useState("desc");n.useEffect(()=>{const a=()=>{m()};return window.addEventListener("actualizarGastos",a),()=>{window.removeEventListener("actualizarGastos",a)}},[m]);const G=a=>{a===C?E(d=>d==="asc"?"desc":"asc"):(h(a),E("desc"))},T=a=>[...a].sort((d,b)=>{const g=z==="asc"?1:-1;switch(C){case"monto":return(d.monto-b.monto)*g;case"mes":const v=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"];return(v.indexOf(d.mes.toLowerCase())-v.indexOf(b.mes.toLowerCase()))*g;case"fecha":return(new Date(b.fecha).getTime()-new Date(d.fecha).getTime())*g;default:return 0}});n.useEffect(()=>{p(!0),setTimeout(()=>{s(r),p(!1)},300)},[r]);const F=a=>{const d=o.find(b=>b.id===a);return d?d.nombre:"Persona no encontrada"},N=l.filter(a=>{const d=F(a.personaid),b=f?a.descripcion.toLowerCase().includes(f.toLowerCase())||a.mes.toLowerCase().includes(f.toLowerCase())||d.toLowerCase().includes(f.toLowerCase()):!0,g=j?a.mes===j:!0,v=y?a.personaid===y||a.escompartido&&a.otraPersonaEmail===y:!0;return b&&g&&v}),L=()=>{const a=N.reduce((g,v)=>g+v.monto,0),d=N.filter(g=>g.escompartido).reduce((g,v)=>g+v.monto,0),b=a-d;return{total:a,totalCompartido:d,totalNoCompartido:b}},P=()=>c||u?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-4 text-center",children:e.jsx(I,{})})}):N.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-4 text-center text-gray-500",children:"No hay gastos para mostrar"})}):T(N).slice(0,5).map(d=>e.jsx(O,{gasto:d,onDelete:i,showAllColumns:!1},d.id));return e.jsxs("div",{className:"space-y-6",children:[N.length>0&&!c&&!u&&e.jsx(A,{...L(),formatCurrency:x}),e.jsx("div",{className:"relative w-full",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsx("div",{className:"min-w-[520px]",children:e.jsxs("table",{className:"w-full divide-y divide-gray-200 table-fixed",children:[e.jsxs("colgroup",{children:[e.jsx("col",{className:"w-[60px]"}),e.jsx("col",{className:"w-[110px]"}),e.jsx("col",{className:"w-[90px]"}),e.jsx("col",{className:"w-[100px]"})]}),e.jsx(D,{showAllColumns:!1,onExpand:()=>w(!0),showExpandButton:N.length>0,onSort:G}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P()})]})})})}),e.jsx(Y,{isOpen:S,onClose:()=>w(!1),gastos:N,onDelete:i,totals:L()})]})},B=()=>{const[r,i]=n.useState([]),[t,o]=n.useState({description:"",amount:0,userId:"yo",date:new Date().toISOString().split("T")[0],isShared:!1,porcentajeYo:50,porcentajeOtro:50});n.useEffect(()=>{const s=localStorage.getItem("futureExpenses");s&&i(JSON.parse(s))},[]),n.useEffect(()=>{localStorage.setItem("futureExpenses",JSON.stringify(r))},[r]);const u=()=>{if(!t.description||!t.amount){alert("Por favor complete la descripción y monto");return}if(t.isShared){if(!t.sharedEmail){alert("Para gastos compartidos, debe ingresar el email de la otra persona");return}if(!t.porcentajeYo||!t.porcentajeOtro){alert("Debe especificar los porcentajes para ambos participantes");return}if(t.porcentajeYo+t.porcentajeOtro!==100){alert("La suma de los porcentajes debe ser 100%");return}}const s={id:Date.now().toString(),description:t.description,amount:t.amount,userId:"yo",sharedEmail:t.isShared?t.sharedEmail:void 0,porcentajeYo:t.isShared?t.porcentajeYo:void 0,porcentajeOtro:t.isShared?t.porcentajeOtro:void 0,date:t.date??new Date().toISOString().split("T")[0],isCompleted:!1,isShared:t.isShared||!1};i([...r,s]),o({description:"",amount:0,userId:"yo",date:new Date().toISOString().split("T")[0],isShared:!1,porcentajeYo:50,porcentajeOtro:50,sharedEmail:""})},m=s=>{i(r.map(c=>c.id===s?{...c,isCompleted:!c.isCompleted}:c))},x=s=>{i(r.filter(c=>c.id!==s))},l=(s,c)=>{const p=100-s;o({...t,porcentajeYo:c?s:p,porcentajeOtro:c?p:s})};return e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gastos Futuros"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx("input",{type:"text",placeholder:"Descripción del gasto",value:t.description,onChange:s=>o({...t,description:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"}),e.jsx("input",{type:"number",placeholder:"Monto",value:t.amount??"",onChange:s=>o({...t,amount:Number(s.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"isShared",checked:t.isShared,onChange:s=>o({...t,isShared:s.target.checked}),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"isShared",className:"text-sm text-gray-700",children:"Compartido"})]}),e.jsx("input",{type:"date",value:t.date,onChange:s=>o({...t,date:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),t.isShared&&e.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{children:e.jsx("input",{type:"email",placeholder:"Email de la otra persona",value:t.sharedEmail??"",onChange:s=>o({...t,sharedEmail:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"porcentajeYo",className:"block text-sm font-medium text-gray-700 mb-1",children:"Porcentaje Mio"}),e.jsx("input",{type:"number",id:"porcentajeYo",min:"0",max:"100",value:t.porcentajeYo,onChange:s=>l(Number(s.target.value),!0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"porcentajeOtro",className:"block text-sm font-medium text-gray-700 mb-1",children:["Porcentaje de ",t.sharedEmail]}),e.jsx("input",{type:"number",id:"porcentajeOtro",min:"0",max:"100",value:t.porcentajeOtro,onChange:s=>l(Number(s.target.value),!1),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]})]}),e.jsx("button",{onClick:u,className:"w-full sm:w-auto px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Agregar Gasto Futuro"})]})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:r.map(s=>e.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"checkbox",checked:s.isCompleted,onChange:()=>m(s.id),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${s.isCompleted?"line-through text-gray-500":"text-gray-900"}`,children:s.description}),e.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(s.date).toLocaleDateString()," - Yo",s.isShared&&s.porcentajeYo!==void 0&&s.porcentajeOtro!==void 0&&e.jsxs(e.Fragment,{children:[" ","(Compartido con ",s.sharedEmail,")",e.jsx("br",{}),e.jsxs("span",{className:"text-xs text-gray-500",children:[s.porcentajeYo,"% ($",(s.amount*s.porcentajeYo/100).toLocaleString(),") / ",s.porcentajeOtro,"% ($",(s.amount*s.porcentajeOtro/100).toLocaleString(),")"]})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",s.amount.toLocaleString()]}),e.jsx("button",{onClick:()=>x(s.id),className:"text-red-500 hover:text-red-700","aria-label":"Eliminar gasto",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]})},s.id))})]})},_=()=>e.jsx(H,{children:e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx($,{}),e.jsx("div",{className:"mt-8",children:e.jsx(B,{})})]}),e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(V,{})})]})})});export{_ as default};
