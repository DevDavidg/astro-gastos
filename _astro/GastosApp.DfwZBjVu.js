import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as d}from"./index.BVOCwoKb.js";import{u as L,o as G,G as z}from"./GastosContext.FOfI830u.js";import{u as E}from"./useCurrency.DDavyvXi.js";import F from"./LoadingSpinner.D7PxHcXC.js";import{P as H}from"./PieChart.29-RXuOP.js";import"./supabase.4P1wv7wr.js";import"./proxy.dwpEO49j.js";const M=({showAllColumns:t=!1,onExpand:i,showExpandButton:a=!1})=>{const r="p-2 sm:p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap";return e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-white border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:r,"aria-sort":"none",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"Mes"}),e.jsx("svg",{className:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M19 4H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V6a2 2 0 00-2-2zM16 2v4M8 2v4M3 10h18",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})}),e.jsx("th",{scope:"col",className:r,"aria-sort":"none",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"Descripción"}),e.jsx("svg",{className:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M4 6h16M4 12h16M4 18h7",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})}),e.jsx("th",{scope:"col",className:`${r} w-[80px] !min-w-[80px] !max-w-[80px]`,"aria-sort":"none",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"Monto"}),e.jsx("svg",{className:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M12 1v22M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})}),e.jsx("th",{scope:"col",className:`${r} relative`,"aria-sort":"none",children:e.jsxs("div",{className:"flex items-center justify-start",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"Persona"}),e.jsx("svg",{className:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2M12 11a4 4 0 100-8 4 4 0 000 8z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),!t&&a&&e.jsx("button",{onClick:i,className:"ml-2 text-indigo-600 hover:text-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 rounded-md p-1","aria-label":"Expandir tabla para ver más detalles",title:"Ver todos los detalles",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h4a1 1 0 010 2H6.414l2.293 2.293a1 1 0 11-1.414 1.414L5 6.414V8a1 1 0 01-2 0V4zm9 1a1 1 0 010-2h4a1 1 0 011 1v4a1 1 0 01-2 0V6.414l-2.293 2.293a1 1 0 11-1.414-1.414L13.586 5H12zm-9 7a1 1 0 012 0v1.586l2.293-2.293a1 1 0 111.414 1.414L6.414 15H8a1 1 0 010 2H4a1 1 0 01-1-1v-4zm13-1a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 010-2h1.586l-2.293-2.293a1 1 0 111.414-1.414L15 13.586V12a1 1 0 011-1z",clipRule:"evenodd"})})})]})}),t&&e.jsxs(e.Fragment,{children:[e.jsx("th",{scope:"col",className:r,"aria-sort":"none",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"Compartido"}),e.jsx("svg",{className:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2M9 11a4 4 0 100-8 4 4 0 000 8zM23 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})}),e.jsxs("th",{scope:"col",className:`${r} text-center`,"aria-label":"Acciones",children:[e.jsx("span",{className:"sr-only",children:"Acciones"}),e.jsx("svg",{className:"w-4 h-4 text-gray-400 mx-auto",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})})},D=({gasto:t,onDelete:i,currencyCode:a,showAllColumns:r=!1})=>{const{eliminarGasto:l}=L(),{formatCurrency:m}=E(),[x,p]=d.useState(!1),[s,c]=d.useState(!1),[u,b]=d.useState(null);d.useEffect(()=>{(async()=>{const C=await G(t.personaid);b(C)})()},[t.personaid]);const f=()=>{c(!0),setTimeout(()=>{i(t.id)},300)},y=n=>{(n.key==="Enter"||n.key===" ")&&f()},v=()=>t.escompartido?e.jsxs("div",{className:"text-xs space-y-1 bg-indigo-50 p-1.5 sm:p-2 rounded-lg border border-indigo-100",children:[e.jsxs("div",{className:"flex justify-between items-center gap-2",children:[e.jsx("span",{className:"text-gray-700 truncate max-w-[140px]",title:u??t.personaid,children:u??t.personaid}),e.jsxs("span",{className:"font-medium bg-indigo-100 text-indigo-800 px-1.5 sm:px-2 py-0.5 rounded shrink-0 min-w-[40px] text-center",children:[t.porcentajepersona1,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center gap-2",children:[e.jsx("span",{className:"text-gray-700 truncate max-w-[140px]",title:t.otraPersonaEmail??"",children:t.otraPersonaEmail??""}),e.jsxs("span",{className:"font-medium bg-pink-100 text-pink-800 px-1.5 sm:px-2 py-0.5 rounded shrink-0 min-w-[40px] text-center",children:[t.porcentajepersona2,"%"]})]})]}):e.jsx("span",{className:"text-gray-600",children:"No"}),k=()=>({Enero:"bg-blue-100 text-blue-800",Febrero:"bg-purple-100 text-purple-800",Marzo:"bg-green-100 text-green-800",Abril:"bg-yellow-100 text-yellow-800",Mayo:"bg-red-100 text-red-800",Junio:"bg-indigo-100 text-indigo-800",Julio:"bg-orange-100 text-orange-800",Agosto:"bg-emerald-100 text-emerald-800",Septiembre:"bg-cyan-100 text-cyan-800",Octubre:"bg-amber-100 text-amber-800",Noviembre:"bg-violet-100 text-violet-800",Diciembre:"bg-rose-100 text-rose-800"})[t.mes]||"bg-gray-100 text-gray-800",w=n=>n>=1e6?`${(n/1e6).toFixed(1)}m`:n>=1e3?`${(n/1e3).toFixed(1)}k`:n.toString(),S=()=>s?"opacity-0 transform scale-95":x?"bg-gray-50 shadow-sm":"hover:bg-gray-50";return e.jsxs("tr",{className:`border-b transition-all duration-300 ${S()}`,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[e.jsx("td",{className:"p-2",children:e.jsx("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-medium ${k()}`,children:t.mes})}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium text-gray-800 text-sm truncate max-w-[150px]",children:t.descripcion}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(t.fecha).toLocaleDateString()})]})}),e.jsx("td",{className:"p-2 w-[80px] !min-w-[80px] !max-w-[80px]",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium text-gray-900 text-sm whitespace-nowrap",children:r?m(t.monto):w(t.monto)}),!r&&e.jsx("span",{className:"text-xs text-gray-500",title:m(t.monto),children:m(t.monto)})]})}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"inline-flex px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 truncate max-w-[120px]",title:u??t.personaid,children:u??t.personaid}),r&&t.escompartido&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:"Compartido"})]})}),r&&e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"p-2",children:v()}),e.jsx("td",{className:"p-2 text-center",children:e.jsx("button",{onClick:()=>l(t.id),onKeyDown:y,className:`text-red-500 hover:text-red-700 transition-colors p-1.5 rounded-full hover:bg-red-50 ${x?"animate-pulse":""}`,"aria-label":"Eliminar gasto",tabIndex:0,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})})]})]})},P=({isOpen:t,onClose:i,gastos:a,onDelete:r,totals:l})=>{const{currency:m,formatCurrency:x}=E();return t?e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("button",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity backdrop-blur-sm w-full h-full",onClick:i,"aria-label":"Cerrar modal",type:"button"}),e.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-6xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Detalles de Gastos"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Vista detallada de todos los gastos"})]}),e.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded-full p-1","aria-label":"Cerrar modal",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx(M,{showAllColumns:!0}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(p=>e.jsx(D,{gasto:p,onDelete:r,currencyCode:m,showAllColumns:!0},p.id))}),e.jsx("tfoot",{children:e.jsx("tr",{className:"bg-gradient-to-r from-indigo-50 via-white to-pink-50 border-t-2 border-gray-200",children:e.jsx("td",{colSpan:6,className:"p-6",children:e.jsxs("div",{className:"flex flex-col items-end gap-4",children:[e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total General"}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:x(l.total)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-16 gap-y-2 text-sm bg-white p-4 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("span",{className:"text-indigo-600 font-medium",children:"Gastos Compartidos:"}),e.jsx("span",{className:"font-semibold text-gray-900",children:x(l.totalCompartido)})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("span",{className:"text-pink-600 font-medium",children:"Gastos No Compartidos:"}),e.jsx("span",{className:"font-semibold text-gray-900",children:x(l.totalNoCompartido)})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("span",{className:"text-indigo-600",children:"% Compartido:"}),e.jsxs("span",{className:"font-medium",children:[(l.totalCompartido/l.total*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("span",{className:"text-pink-600",children:"% No Compartido:"}),e.jsxs("span",{className:"font-medium",children:[(l.totalNoCompartido/l.total*100).toFixed(1),"%"]})]})]})]})})})})]})})})]})})]}):null},T=({total:t,totalCompartido:i,totalNoCompartido:a,formatCurrency:r})=>{const l=(i/t*100).toFixed(1),m=(a/t*100).toFixed(1);return e.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-pink-50 rounded-lg p-4 mb-6 shadow-sm",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 mb-1",children:"Total General"}),e.jsx("span",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:r(t)})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-indigo-600 font-medium",children:"Compartido"}),e.jsx("span",{className:"font-semibold text-gray-900",children:r(i)})]}),e.jsxs("div",{className:"text-xs text-indigo-500",children:[l,"% del total"]})]}),e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-pink-600 font-medium",children:"No Compartido"}),e.jsx("span",{className:"font-semibold text-gray-900",children:r(a)})]}),e.jsxs("div",{className:"text-xs text-pink-500",children:[m,"% del total"]})]})]})]})})},I=()=>{const{gastos:t,eliminarGasto:i,agregarGasto:a,personas:r,isLoading:l,recargarDatos:m}=L(),{currency:x,formatCurrency:p}=E(),[s,c]=d.useState([]),[u,b]=d.useState(!0),[f]=d.useState(""),[y]=d.useState(null),[v]=d.useState(null),[k,w]=d.useState(!1);d.useEffect(()=>{b(!0),setTimeout(()=>{c(t),b(!1)},300)},[t]),d.useEffect(()=>{const o=async h=>{const j=h;try{await a(j.detail),await m()}catch(g){console.error("Error al agregar gasto:",g)}};return document.addEventListener("nuevoGasto",o),()=>{document.removeEventListener("nuevoGasto",o)}},[a,m]);const S=o=>{const h=r.find(j=>j.id===o);return h?h.nombre:"Persona no encontrada"},n=s.filter(o=>{const h=S(o.personaid),j=f?o.descripcion.toLowerCase().includes(f.toLowerCase())||o.mes.toLowerCase().includes(f.toLowerCase())||h.toLowerCase().includes(f.toLowerCase()):!0,g=y?o.mes===y:!0,N=v?o.personaid===v||o.escompartido&&o.otraPersonaEmail===v:!0;return j&&g&&N}),C=()=>{const o=n.reduce((g,N)=>g+N.monto,0),h=n.filter(g=>g.escompartido).reduce((g,N)=>g+N.monto,0),j=o-h;return{total:o,totalCompartido:h,totalNoCompartido:j}},O=()=>u||l?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-4 text-center",children:e.jsx(F,{})})}):n.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-4 text-center text-gray-500",children:"No hay gastos para mostrar"})}):n.map(o=>e.jsx(D,{gasto:o,onDelete:i,currencyCode:x,showAllColumns:!1},o.id));return e.jsxs("div",{className:"space-y-6",children:[n.length>0&&!u&&!l&&e.jsx(T,{...C(),formatCurrency:p}),e.jsx("div",{className:"relative w-full",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsx("div",{className:"min-w-[520px]",children:e.jsxs("table",{className:"w-full divide-y divide-gray-200 table-fixed",children:[e.jsxs("colgroup",{children:[e.jsx("col",{className:"w-[60px]"}),e.jsx("col",{className:"w-[110px]"}),e.jsx("col",{className:"w-[90px]"}),e.jsx("col",{className:"w-[100px]"})]}),e.jsx(M,{showAllColumns:!1,onExpand:()=>w(!0),showExpandButton:n.length>0}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O()})]})})})}),e.jsx(P,{isOpen:k,onClose:()=>w(!1),gastos:n,onDelete:i,totals:C()})]})},V=()=>{const[t,i]=d.useState([]),[a,r]=d.useState({description:"",amount:0,userId:"yo",date:new Date().toISOString().split("T")[0],isShared:!1,porcentajeYo:50,porcentajeOtro:50});d.useEffect(()=>{const s=localStorage.getItem("futureExpenses");s&&i(JSON.parse(s))},[]),d.useEffect(()=>{localStorage.setItem("futureExpenses",JSON.stringify(t))},[t]);const l=()=>{if(!a.description||!a.amount){alert("Por favor complete la descripción y monto");return}if(a.isShared){if(!a.sharedEmail){alert("Para gastos compartidos, debe ingresar el email de la otra persona");return}if(!a.porcentajeYo||!a.porcentajeOtro){alert("Debe especificar los porcentajes para ambos participantes");return}if(a.porcentajeYo+a.porcentajeOtro!==100){alert("La suma de los porcentajes debe ser 100%");return}}const s={id:Date.now().toString(),description:a.description,amount:a.amount,userId:"yo",sharedEmail:a.isShared?a.sharedEmail:void 0,porcentajeYo:a.isShared?a.porcentajeYo:void 0,porcentajeOtro:a.isShared?a.porcentajeOtro:void 0,date:a.date??new Date().toISOString().split("T")[0],isCompleted:!1,isShared:a.isShared||!1};i([...t,s]),r({description:"",amount:0,userId:"yo",date:new Date().toISOString().split("T")[0],isShared:!1,porcentajeYo:50,porcentajeOtro:50,sharedEmail:""})},m=s=>{i(t.map(c=>c.id===s?{...c,isCompleted:!c.isCompleted}:c))},x=s=>{i(t.filter(c=>c.id!==s))},p=(s,c)=>{const u=100-s;r({...a,porcentajeYo:c?s:u,porcentajeOtro:c?u:s})};return e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gastos Futuros"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx("input",{type:"text",placeholder:"Descripción del gasto",value:a.description,onChange:s=>r({...a,description:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"}),e.jsx("input",{type:"number",placeholder:"Monto",value:a.amount??"",onChange:s=>r({...a,amount:Number(s.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"isShared",checked:a.isShared,onChange:s=>r({...a,isShared:s.target.checked}),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"isShared",className:"text-sm text-gray-700",children:"Compartido"})]}),e.jsx("input",{type:"date",value:a.date,onChange:s=>r({...a,date:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.isShared&&e.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{children:e.jsx("input",{type:"email",placeholder:"Email de la otra persona",value:a.sharedEmail??"",onChange:s=>r({...a,sharedEmail:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"porcentajeYo",className:"block text-sm font-medium text-gray-700 mb-1",children:"Porcentaje Mio"}),e.jsx("input",{type:"number",id:"porcentajeYo",min:"0",max:"100",value:a.porcentajeYo,onChange:s=>p(Number(s.target.value),!0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"porcentajeOtro",className:"block text-sm font-medium text-gray-700 mb-1",children:["Porcentaje de ",a.sharedEmail]}),e.jsx("input",{type:"number",id:"porcentajeOtro",min:"0",max:"100",value:a.porcentajeOtro,onChange:s=>p(Number(s.target.value),!1),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]})]}),e.jsx("button",{onClick:l,className:"w-full sm:w-auto px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Agregar Gasto Futuro"})]})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:t.map(s=>e.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"checkbox",checked:s.isCompleted,onChange:()=>m(s.id),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${s.isCompleted?"line-through text-gray-500":"text-gray-900"}`,children:s.description}),e.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(s.date).toLocaleDateString()," - Yo",s.isShared&&s.porcentajeYo!==void 0&&s.porcentajeOtro!==void 0&&e.jsxs(e.Fragment,{children:[" ","(Compartido con ",s.sharedEmail,")",e.jsx("br",{}),e.jsxs("span",{className:"text-xs text-gray-500",children:[s.porcentajeYo,"% ($",(s.amount*s.porcentajeYo/100).toLocaleString(),") / ",s.porcentajeOtro,"% ($",(s.amount*s.porcentajeOtro/100).toLocaleString(),")"]})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",s.amount.toLocaleString()]}),e.jsx("button",{onClick:()=>x(s.id),className:"text-red-500 hover:text-red-700","aria-label":"Eliminar gasto",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]})},s.id))})]})},q=()=>e.jsx(z,{children:e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx(I,{}),e.jsx("div",{className:"mt-8",children:e.jsx(V,{})})]}),e.jsx("div",{children:e.jsx(H,{})})]})})});export{q as default};
