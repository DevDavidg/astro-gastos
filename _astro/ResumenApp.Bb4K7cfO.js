import{j as s}from"./jsx-runtime.D_zvdyIk.js";import{r as m}from"./index.BVOCwoKb.js";import{c as x,o as u,P as h}from"./PieChart.BCnpdwdR.js";import{u as g,G as j}from"./GastosContext.3YBrr_wS.js";import{u as p}from"./useCurrency.DX8njwgu.js";import"./supabase.4P1wv7wr.js";import"./LoadingSpinner.D7PxHcXC.js";const f=()=>{const{gastos:o}=g(),{formatCurrency:c}=p(),l=m.useRef(null),a=x(o),d=Object.entries(a).sort(([,e],[,r])=>r-e),i=Object.values(a).reduce((e,r)=>e+r,0);return s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Gastos por Mes"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"relative",children:s.jsx("canvas",{ref:l,className:"w-full h-64"})}),s.jsx("div",{className:"space-y-4",children:d.map(([e,r])=>{const n=(r/i*100).toFixed(1),t=u(e);return s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",style:{backgroundColor:t},children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:t}}),s.jsx("span",{className:"font-medium text-gray-900",children:e})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium text-gray-900",children:c(r)}),s.jsxs("div",{className:"text-sm text-gray-500",children:[n,"%"]})]})]},e)})})]})]})},M=()=>s.jsx(j,{children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Distribuci√≥n por Mes"}),s.jsx(h,{})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsx(f,{})})]})});export{M as default};
