import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as d}from"./index.BVOCwoKb.js";import{u as h,G as b}from"./GastosContext.CcSJ84DL.js";import{u as f}from"./useCurrency.BIWupN6L.js";import"./supabase.4P1wv7wr.js";import"./LoadingSpinner.D7PxHcXC.js";const p=()=>{const{userPreferences:r,updateUserPreferences:a}=h(),[t,m]=d.useState({currency:"USD",theme:"light",language:"es"}),[u,i]=d.useState(!1);d.useEffect(()=>{r&&m(r)},[r]);const x=async n=>{n.preventDefault();try{await a(t),i(!0),setTimeout(()=>i(!1),3e3)}catch(l){console.error("Error al actualizar preferencias:",l)}},o=n=>{const{name:l,value:s}=n.target;m(c=>({...c,[l]:s}))};return e.jsx("div",{className:"max-w-md mx-auto",children:e.jsx("form",{onSubmit:x,className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Preferencias de Usuario"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"currency",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Moneda"}),e.jsxs("select",{id:"currency",name:"currency",value:t.currency,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"USD",children:"USD ($)"}),e.jsx("option",{value:"EUR",children:"EUR (€)"}),e.jsx("option",{value:"GBP",children:"GBP (£)"}),e.jsx("option",{value:"JPY",children:"JPY (¥)"}),e.jsx("option",{value:"ARS",children:"ARS ($)"}),e.jsx("option",{value:"BRL",children:"BRL (R$)"}),e.jsx("option",{value:"MXN",children:"MXN ($)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"theme",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tema"}),e.jsxs("select",{id:"theme",name:"theme",value:t.theme,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"light",children:"Claro"}),e.jsx("option",{value:"dark",children:"Oscuro"}),e.jsx("option",{value:"system",children:"Sistema"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"language",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Idioma"}),e.jsxs("select",{id:"language",name:"language",value:t.language,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"es",children:"Español"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"pt",children:"Português"}),e.jsx("option",{value:"fr",children:"Français"}),e.jsx("option",{value:"de",children:"Deutsch"})]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Guardar preferencias"})}),u&&e.jsx("div",{className:"mt-4 p-2 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded-md text-sm text-center",children:"Preferencias guardadas exitosamente"})]})})})},g=({personaId:r})=>{const{personas:a,actualizarNombrePersona:t,actualizarSueldoPersona:m}=h(),{formatCurrency:u}=f(),[i,x]=d.useState(""),[o,n]=d.useState(0);d.useEffect(()=>{if(a&&a.length>=2){const s=a.find(c=>c.id===r);s&&(x(s.nombre),n(s.sueldo))}},[a,r]);const l=async s=>{s.preventDefault();try{await t(r,i),await m(r,o)}catch(c){console.error("Error al actualizar persona:",c)}};return e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6",children:e.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:`Persona ${r==="persona1"?"1":"2"}`})}),e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 px-4 py-5 sm:px-6",children:e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:`nombre${r}`,className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nombre"}),e.jsx("input",{type:"text",id:`nombre${r}`,value:i,onChange:s=>x(s.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:`sueldo${r}`,className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sueldo"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500 dark:text-gray-400 sm:text-sm",children:u(0).charAt(0)})}),e.jsx("input",{type:"number",id:`sueldo${r}`,value:o,onChange:s=>n(parseFloat(s.target.value)),className:"mt-1 block w-full pl-7 rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]})]}),e.jsx("button",{type:"submit",className:"inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Guardar cambios"})]})})]})},S=()=>e.jsx(b,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Configuración"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Personaliza tu experiencia en la aplicación"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Preferencias de Usuario"}),e.jsx(p,{})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Personas"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(g,{personaId:"persona1"}),e.jsx(g,{personaId:"persona2"})]})]})})]})]})})})});export{S as ConfigPage};
