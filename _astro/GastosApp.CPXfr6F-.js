import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as n}from"./index.BVOCwoKb.js";import{u as M,G as H}from"./GastosContext.WmsTZqJf.js";import{u as k}from"./useCurrency.Ird2pE4I.js";import I from"./LoadingSpinner.D7PxHcXC.js";import{P as V}from"./PieChart.cky7ZdeL.js";import"./supabase.4P1wv7wr.js";import"./proxy.dwpEO49j.js";const D=({showAllColumns:a,onExpand:l,showExpandButton:t=!1,onSort:o})=>{const[p,m]=n.useState(!1),x=s=>{o&&(o(s),m(!1))},c="p-2 sm:p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap";return e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-white border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:c,"aria-sort":"none",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"Mes"}),e.jsx("svg",{className:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M19 4H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V6a2 2 0 00-2-2zM16 2v4M8 2v4M3 10h18",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})}),e.jsx("th",{scope:"col",className:c,"aria-sort":"none",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"Descripción"}),e.jsx("svg",{className:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M4 6h16M4 12h16M4 18h7",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})}),e.jsx("th",{scope:"col",className:`${c} w-[80px] !min-w-[80px] !max-w-[80px]`,"aria-sort":"none",children:e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("span",{children:"Monto"})})}),e.jsx("th",{scope:"col",className:`${c} relative`,"aria-sort":"none",children:e.jsxs("div",{className:"flex items-center justify-start",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"Persona"}),e.jsx("svg",{className:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2M12 11a4 4 0 100-8 4 4 0 000 8z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),!a&&t&&e.jsx("button",{onClick:l,className:"ml-2 text-indigo-600 hover:text-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 rounded-md p-1","aria-label":"Expandir tabla para ver más detalles",title:"Ver todos los detalles",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h4a1 1 0 010 2H6.414l2.293 2.293a1 1 0 11-1.414 1.414L5 6.414V8a1 1 0 01-2 0V4zm9 1a1 1 0 010-2h4a1 1 0 011 1v4a1 1 0 01-2 0V6.414l-2.293 2.293a1 1 0 11-1.414-1.414L13.586 5H12zm-9 7a1 1 0 012 0v1.586l2.293-2.293a1 1 0 111.414 1.414L6.414 15H8a1 1 0 010 2H4a1 1 0 01-1-1v-4zm13-1a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 010-2h1.586l-2.293-2.293a1 1 0 111.414-1.414L15 13.586V12a1 1 0 011-1z",clipRule:"evenodd"})})})]})}),a&&e.jsxs(e.Fragment,{children:[e.jsx("th",{scope:"col",className:c,"aria-sort":"none",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"Compartido"}),e.jsx("svg",{className:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2M9 11a4 4 0 100-8 4 4 0 000 8zM23 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>m(!p),className:"ml-1 focus:outline-none","aria-label":"Ordenar gastos",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),p&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10",children:e.jsxs("div",{className:"py-1",children:[e.jsx("button",{onClick:()=>x("monto"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Ordenar por monto"}),e.jsx("button",{onClick:()=>x("mes"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Ordenar por mes"}),e.jsx("button",{onClick:()=>x("fecha"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Ordenar por fecha"})]})})]})]})}),e.jsx("th",{scope:"col",className:`${c} text-center`,"aria-label":"Acciones",children:e.jsx("span",{className:"sr-only",children:"Acciones"})})]})]})})},O=({gasto:a,onDelete:l,showAllColumns:t=!1})=>{const{eliminarGasto:o,emailsMap:p}=M(),{formatCurrency:m}=k(),[x,c]=n.useState(!1),[s,d]=n.useState(!1),h=()=>{d(!0),setTimeout(()=>{l(a.id)},300)},j=g=>{(g.key==="Enter"||g.key===" ")&&h()},v=p[a.personaid]||a.personaid,y=()=>a.escompartido?e.jsxs("div",{className:"text-xs space-y-1 bg-indigo-50 p-1.5 sm:p-2 rounded-lg border border-indigo-100",children:[e.jsxs("div",{className:"flex justify-between items-center gap-2",children:[e.jsx("span",{className:"text-gray-700 truncate max-w-[140px]",title:v,children:v}),e.jsxs("span",{className:"font-medium bg-indigo-100 text-indigo-800 px-1.5 sm:px-2 py-0.5 rounded shrink-0 min-w-[40px] text-center",children:[a.porcentajepersona1,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center gap-2",children:[e.jsx("span",{className:"text-gray-700 truncate max-w-[140px]",title:a.otraPersonaEmail??"",children:a.otraPersonaEmail??""}),e.jsxs("span",{className:"font-medium bg-pink-100 text-pink-800 px-1.5 sm:px-2 py-0.5 rounded shrink-0 min-w-[40px] text-center",children:[a.porcentajepersona2,"%"]})]})]}):e.jsx("span",{className:"text-gray-600",children:"No"}),S=()=>({Enero:"bg-blue-100 text-blue-800",Febrero:"bg-purple-100 text-purple-800",Marzo:"bg-green-100 text-green-800",Abril:"bg-yellow-100 text-yellow-800",Mayo:"bg-red-100 text-red-800",Junio:"bg-indigo-100 text-indigo-800",Julio:"bg-orange-100 text-orange-800",Agosto:"bg-emerald-100 text-emerald-800",Septiembre:"bg-cyan-100 text-cyan-800",Octubre:"bg-amber-100 text-amber-800",Noviembre:"bg-violet-100 text-violet-800",Diciembre:"bg-rose-100 text-rose-800"})[a.mes]||"bg-gray-100 text-gray-800",w=g=>g>=1e6?`${(g/1e6).toFixed(1)}m`:g>=1e3?`${(g/1e3).toFixed(1)}k`:g.toString(),C=()=>s?"opacity-0 transform scale-95":x?"bg-gray-50 shadow-sm":"hover:bg-gray-50";return e.jsxs("tr",{className:`border-b transition-all duration-300 ${C()}`,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[e.jsx("td",{className:"p-2",children:e.jsx("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-medium ${S()}`,children:a.mes})}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium text-gray-800 text-sm truncate max-w-[150px]",children:a.descripcion}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(a.fecha).toLocaleDateString()})]})}),e.jsx("td",{className:"p-2 w-[80px] !min-w-[80px] !max-w-[80px]",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium text-gray-900 text-sm whitespace-nowrap",children:t?m(a.monto):w(a.monto)}),!t&&e.jsx("span",{className:"text-xs text-gray-500",title:m(a.monto),children:m(a.monto)})]})}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"inline-flex px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 truncate max-w-[120px]",title:v,children:v}),t&&a.escompartido&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:"Compartido"})]})}),t&&e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"p-2",children:y()}),e.jsx("td",{className:"p-2 text-center",children:e.jsx("button",{onClick:()=>o(a.id),onKeyDown:j,className:`text-red-500 hover:text-red-700 transition-colors p-1.5 rounded-full hover:bg-red-50 ${x?"animate-pulse":""}`,"aria-label":"Eliminar gasto",tabIndex:0,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})})]})]})},Y=({isOpen:a,onClose:l,gastos:t,onDelete:o,totals:p})=>{k();const[m,x]=n.useState(t),c=s=>{x(d=>[...d].sort((h,j)=>{switch(s){case"monto":return j.monto-h.monto;case"mes":const v=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"];return v.indexOf(h.mes.toLowerCase())-v.indexOf(j.mes.toLowerCase());case"fecha":return new Date(j.fecha).getTime()-new Date(h.fecha).getTime();default:return 0}}))};return n.useEffect(()=>{x(t)},[t]),a?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-6xl sm:w-full",children:[e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsx("div",{className:"sm:flex sm:items-start",children:e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Detalles de Gastos"}),e.jsx("div",{className:"mt-4",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx(D,{showAllColumns:!0,onSort:c}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(s=>e.jsx(O,{gasto:s,onDelete:o,showAllColumns:!0},s.id))})]})})]})})}),e.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:e.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:l,children:"Cerrar"})})]})]})}):null},$=({total:a,totalCompartido:l,totalNoCompartido:t,formatCurrency:o})=>{const p=(l/a*100).toFixed(1),m=(t/a*100).toFixed(1);return e.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-pink-50 rounded-lg p-4 mb-6 shadow-sm",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 mb-1",children:"Total General"}),e.jsx("span",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:o(a)})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-indigo-600 font-medium",children:"Compartido"}),e.jsx("span",{className:"font-semibold text-gray-900",children:o(l)})]}),e.jsxs("div",{className:"text-xs text-indigo-500",children:[p,"% del total"]})]}),e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-pink-600 font-medium",children:"No Compartido"}),e.jsx("span",{className:"font-semibold text-gray-900",children:o(t)})]}),e.jsxs("div",{className:"text-xs text-pink-500",children:[m,"% del total"]})]})]})]})})},A=()=>{const{gastos:a,eliminarGasto:l,agregarGasto:t,personas:o,isLoading:p,recargarDatos:m}=M(),{formatCurrency:x}=k(),[c,s]=n.useState([]),[d,h]=n.useState(!0),[j]=n.useState(""),[v]=n.useState(null),[y]=n.useState(null),[S,w]=n.useState(!1),[C,g]=n.useState("fecha"),[z,E]=n.useState("desc"),G=r=>{r===C?E(i=>i==="asc"?"desc":"asc"):(g(r),E("desc"))},T=r=>[...r].sort((i,f)=>{const u=z==="asc"?1:-1;switch(C){case"monto":return(i.monto-f.monto)*u;case"mes":const b=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"];return(b.indexOf(i.mes.toLowerCase())-b.indexOf(f.mes.toLowerCase()))*u;case"fecha":return(new Date(f.fecha).getTime()-new Date(i.fecha).getTime())*u;default:return 0}});n.useEffect(()=>{h(!0),setTimeout(()=>{s(a),h(!1)},300)},[a]),n.useEffect(()=>{const r=async i=>{const f=i;try{await t(f.detail),await m()}catch(u){console.error("Error al agregar gasto:",u)}};return document.addEventListener("nuevoGasto",r),()=>{document.removeEventListener("nuevoGasto",r)}},[t,m]);const F=r=>{const i=o.find(f=>f.id===r);return i?i.nombre:"Persona no encontrada"},N=c.filter(r=>{const i=F(r.personaid),f=j?r.descripcion.toLowerCase().includes(j.toLowerCase())||r.mes.toLowerCase().includes(j.toLowerCase())||i.toLowerCase().includes(j.toLowerCase()):!0,u=v?r.mes===v:!0,b=y?r.personaid===y||r.escompartido&&r.otraPersonaEmail===y:!0;return f&&u&&b}),L=()=>{const r=N.reduce((u,b)=>u+b.monto,0),i=N.filter(u=>u.escompartido).reduce((u,b)=>u+b.monto,0),f=r-i;return{total:r,totalCompartido:i,totalNoCompartido:f}},P=()=>d||p?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-4 text-center",children:e.jsx(I,{})})}):N.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-4 text-center text-gray-500",children:"No hay gastos para mostrar"})}):T(N).slice(0,5).map(i=>e.jsx(O,{gasto:i,onDelete:l,showAllColumns:!1},i.id));return e.jsxs("div",{className:"space-y-6",children:[N.length>0&&!d&&!p&&e.jsx($,{...L(),formatCurrency:x}),e.jsx("div",{className:"relative w-full",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsx("div",{className:"min-w-[520px]",children:e.jsxs("table",{className:"w-full divide-y divide-gray-200 table-fixed",children:[e.jsxs("colgroup",{children:[e.jsx("col",{className:"w-[60px]"}),e.jsx("col",{className:"w-[110px]"}),e.jsx("col",{className:"w-[90px]"}),e.jsx("col",{className:"w-[100px]"})]}),e.jsx(D,{showAllColumns:!1,onExpand:()=>w(!0),showExpandButton:N.length>0,onSort:G}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P()})]})})})}),e.jsx(Y,{isOpen:S,onClose:()=>w(!1),gastos:N,onDelete:l,totals:L()})]})},B=()=>{const[a,l]=n.useState([]),[t,o]=n.useState({description:"",amount:0,userId:"yo",date:new Date().toISOString().split("T")[0],isShared:!1,porcentajeYo:50,porcentajeOtro:50});n.useEffect(()=>{const s=localStorage.getItem("futureExpenses");s&&l(JSON.parse(s))},[]),n.useEffect(()=>{localStorage.setItem("futureExpenses",JSON.stringify(a))},[a]);const p=()=>{if(!t.description||!t.amount){alert("Por favor complete la descripción y monto");return}if(t.isShared){if(!t.sharedEmail){alert("Para gastos compartidos, debe ingresar el email de la otra persona");return}if(!t.porcentajeYo||!t.porcentajeOtro){alert("Debe especificar los porcentajes para ambos participantes");return}if(t.porcentajeYo+t.porcentajeOtro!==100){alert("La suma de los porcentajes debe ser 100%");return}}const s={id:Date.now().toString(),description:t.description,amount:t.amount,userId:"yo",sharedEmail:t.isShared?t.sharedEmail:void 0,porcentajeYo:t.isShared?t.porcentajeYo:void 0,porcentajeOtro:t.isShared?t.porcentajeOtro:void 0,date:t.date??new Date().toISOString().split("T")[0],isCompleted:!1,isShared:t.isShared||!1};l([...a,s]),o({description:"",amount:0,userId:"yo",date:new Date().toISOString().split("T")[0],isShared:!1,porcentajeYo:50,porcentajeOtro:50,sharedEmail:""})},m=s=>{l(a.map(d=>d.id===s?{...d,isCompleted:!d.isCompleted}:d))},x=s=>{l(a.filter(d=>d.id!==s))},c=(s,d)=>{const h=100-s;o({...t,porcentajeYo:d?s:h,porcentajeOtro:d?h:s})};return e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gastos Futuros"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx("input",{type:"text",placeholder:"Descripción del gasto",value:t.description,onChange:s=>o({...t,description:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"}),e.jsx("input",{type:"number",placeholder:"Monto",value:t.amount??"",onChange:s=>o({...t,amount:Number(s.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"isShared",checked:t.isShared,onChange:s=>o({...t,isShared:s.target.checked}),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"isShared",className:"text-sm text-gray-700",children:"Compartido"})]}),e.jsx("input",{type:"date",value:t.date,onChange:s=>o({...t,date:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),t.isShared&&e.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{children:e.jsx("input",{type:"email",placeholder:"Email de la otra persona",value:t.sharedEmail??"",onChange:s=>o({...t,sharedEmail:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"porcentajeYo",className:"block text-sm font-medium text-gray-700 mb-1",children:"Porcentaje Mio"}),e.jsx("input",{type:"number",id:"porcentajeYo",min:"0",max:"100",value:t.porcentajeYo,onChange:s=>c(Number(s.target.value),!0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"porcentajeOtro",className:"block text-sm font-medium text-gray-700 mb-1",children:["Porcentaje de ",t.sharedEmail]}),e.jsx("input",{type:"number",id:"porcentajeOtro",min:"0",max:"100",value:t.porcentajeOtro,onChange:s=>c(Number(s.target.value),!1),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]})]}),e.jsx("button",{onClick:p,className:"w-full sm:w-auto px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Agregar Gasto Futuro"})]})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:a.map(s=>e.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"checkbox",checked:s.isCompleted,onChange:()=>m(s.id),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${s.isCompleted?"line-through text-gray-500":"text-gray-900"}`,children:s.description}),e.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(s.date).toLocaleDateString()," - Yo",s.isShared&&s.porcentajeYo!==void 0&&s.porcentajeOtro!==void 0&&e.jsxs(e.Fragment,{children:[" ","(Compartido con ",s.sharedEmail,")",e.jsx("br",{}),e.jsxs("span",{className:"text-xs text-gray-500",children:[s.porcentajeYo,"% ($",(s.amount*s.porcentajeYo/100).toLocaleString(),") / ",s.porcentajeOtro,"% ($",(s.amount*s.porcentajeOtro/100).toLocaleString(),")"]})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",s.amount.toLocaleString()]}),e.jsx("button",{onClick:()=>x(s.id),className:"text-red-500 hover:text-red-700","aria-label":"Eliminar gasto",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]})},s.id))})]})},Z=()=>e.jsx(H,{children:e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx(A,{}),e.jsx("div",{className:"mt-8",children:e.jsx(B,{})})]}),e.jsx("div",{children:e.jsx(V,{})})]})})});export{Z as default};
